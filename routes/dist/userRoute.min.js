"use strict";var express=require("express"),app=express(),Usermodel=require("../models/usermodel"),router=express.Router();router.post("/loginuser",function(r,s){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Usermodel.findOne({username:r.body.username,password:r.body.password}));case 3:(n=e.sent)?s.send(n):s.status(400).json("Login failed"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.status(400).json(e.t0);case 10:case"end":return e.stop()}},null,null,[[0,7]])}),router.post("/registeruser",function(e,r){new Usermodel({username:e.body.username,password:e.body.password}).save(function(e){e?r.status(400).json("something error occured"):r.send("user registration succesful")})}),router.post("/update",function(r,s){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Usermodel.findOneAndUpdate({_id:r.body._id},r.body));case 3:return e.next=5,regeneratorRuntime.awrap(Usermodel.findOne({_id:r.body._id}));case 5:n=e.sent,s.send(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),s.status(400).json(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])}),module.exports=router;
//# sourceMappingURL=userRoute.min.js.map
